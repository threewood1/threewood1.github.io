<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>JavaWeb学习 | 后端部分 | Threewood</title><meta name="author" content="三木,959335709@qq.com"><meta name="copyright" content="三木"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JavaWeb学习笔记--后端部分"><meta property="og:type" content="article"><meta property="og:title" content="JavaWeb学习 | 后端部分"><meta property="og:url" content="https://threewood1.top/post/afa3c662.html"><meta property="og:site_name" content="Threewood"><meta property="og:description" content="JavaWeb学习笔记--后端部分"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://w.wallhaven.cc/full/p2/wallhaven-p2m2ke.jpg"><meta property="article:published_time" content="2023-09-06T11:17:11.000Z"><meta property="article:modified_time" content="2023-10-09T08:13:37.991Z"><meta property="article:author" content="三木"><meta property="article:tag" content="JavaWeb"><meta property="article:tag" content="Maven"><meta property="article:tag" content="SpringBoot"><meta property="article:tag" content="Mybatis"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://w.wallhaven.cc/full/p2/wallhaven-p2m2ke.jpg"><link rel="shortcut icon" href="/img/paw-solid.svg"><link rel="canonical" href="https://threewood1.top/post/afa3c662.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media=&quot;all&quot;"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 三木","link":"链接: ","source":"来源: Threewood","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"JavaWeb学习 | 后端部分",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-10-09 16:13:37"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/font.css"><script src="/live2d-widget/autoload.js"></script></head><body><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Threewood" type="application/atom+xml"><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/myPic.png" onerror="onerror=null,src=&quot;/img/friend_404.gif&quot;" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-area-chart"></i><span> 相冊/壁紙</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> ToU:</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/HTML/Eluvletter/index.html"><i class="fa-fw fas fa-envelope"></i><span> Eluvletter</span></a></li><li><a class="site-page child" href="/HTML/LoveTime/index.html"><i class="fa-fw fas fa-heart"></i><span> LoveTime</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://w.wallhaven.cc/full/p2/wallhaven-p2m2ke.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="Threewood"><span class="site-name">Threewood</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-area-chart"></i><span> 相冊/壁紙</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> ToU:</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/HTML/Eluvletter/index.html"><i class="fa-fw fas fa-envelope"></i><span> Eluvletter</span></a></li><li><a class="site-page child" href="/HTML/LoveTime/index.html"><i class="fa-fw fas fa-heart"></i><span> LoveTime</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb学习 | 后端部分</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-06T11:17:11.000Z" title="发表于 2023-09-06 19:17:11">2023-09-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-10-09T08:13:37.991Z" title="更新于 2023-10-09 16:13:37">2023-10-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Learning/">Learning</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="JavaWeb学习 | 后端部分"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url(https://w.wallhaven.cc/full/p2/wallhaven-p2m2ke.jpg);"></div><article class="post-content" id="article-container"><h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul><li><p>介绍：Maven是apache旗下的一个开源项目，是一款用于管理和构建java项目的<font color="red">工具</font>，标准跨平台（Linux、Windows、MacOS）的自动化项目构建方式。</p><p><img src="/post/afa3c662/pic1.png"></p><p><img src="/post/afa3c662/pic2.png"></p><ul><li>仓库：用于存储资源，管理各种jar包。<ul><li>本地仓库：自己计算机上的一个目录。</li><li>中央仓库：由Maven团队维护的全球唯一的。 仓库地址：<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/">https://repo1.maven.org/maven2/</a></li><li>远程仓库(私服)：一般由公司团队搭建的私有仓库。</li></ul></li></ul></li><li><p>作用：</p><ul><li>依赖管理：方便快捷的管理项目依赖的资源(jar包)，避免版本冲突问题</li><li>统一项目结构：提供标准、统一的项目结构</li><li>项目构建：标准跨平台（Linux、Windows、MacOS）的自动化项目构建方式</li></ul></li><li><p>官网：<a target="_blank" rel="noopener" href="http://maven.apache.org/">http://maven.apache.org/</a></p></li><li><p>安装</p><ol><li><p>解压 apache-maven-3.6.1-bin.zip。</p></li><li><p>配置本地仓库：修改 conf/settings.xml 中的<localrepository>为一个指定目录。</localrepository></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\develop\apache-maven-3.6.1\mvn_repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>配置阿里云私服：修改 conf/settings.xml 中的<mirrors>标签，为其添加如下子标签：</mirrors></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>          </span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>配置环境变量: MAVEN_HOME 为maven的解压目录，并将其bin目录加入PATH环境变量。</p></li></ol></li><li><p>测试：cmd中输入以下代码查看是否安装成功</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -v</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="IDE集成Maven"><a href="#IDE集成Maven" class="headerlink" title="IDE集成Maven"></a>IDE集成Maven</h2><h3 id="配置Maven环境"><a href="#配置Maven环境" class="headerlink" title="配置Maven环境"></a>配置Maven环境</h3><ul><li><p>选择 IDEA中 File –&gt; Settings –&gt; Build,Execution,Deployment –&gt; Build Tools –&gt; Maven</p></li><li><p>设置 IDEA 使用本地安装的 Maven，并修改配置文件及本地仓库路径</p></li></ul><h3 id="创建Maven项目"><a href="#创建Maven项目" class="headerlink" title="创建Maven项目"></a>创建Maven项目</h3><ol><li><p>创建模块，选择Maven，点击Next</p></li><li><p>填写模块名称，坐标信息，点击finish，创建完成</p></li><li><p>编写 HelloWorld，并运行</p></li></ol><ul><li><p><strong>Maven坐标</strong></p><ul><li><p>什么是坐标？</p></li><li><p>Maven 中的坐标是资源的唯一标识，通过该坐标可以唯一定位资源位置。</p></li><li><p>使用坐标来定义项目或引入项目中需要的依赖。</p></li><li><p>Maven 坐标主要组成</p><ul><li><p>groupId：定义当前Maven项目隶属组织名称（通常是域名反写，例如：com.itheima）</p></li><li><p>artifactId：定义当前Maven项目名称（通常是模块名称，例如 order-service、goods-service）</p></li><li><p>version：定义当前项目版本号</p></li></ul><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-project01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><h3 id="导入Maven项目"><a href="#导入Maven项目" class="headerlink" title="导入Maven项目"></a>导入Maven项目</h3><p>略略略</p><h2 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h2><h3 id="依赖配置"><a href="#依赖配置" class="headerlink" title="依赖配置"></a>依赖配置</h3><ul><li><p>依赖：指当前项目运行所需要的jar包，一个项目中可以引入多个依赖。</p></li><li><p>配置：</p><ol><li><p>在 pom.xml 中编写 <code>&lt;dependencies&gt;</code>标签</p></li><li><p>在 <code>&lt;dependencies&gt;</code>标签中 使用<code>&lt;dependency&gt;</code> 引入坐标</p></li><li><p>定义坐标的 groupId，artifactId，version</p></li><li><p>点击刷新按钮，引入最新加入的坐标</p></li></ol><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><blockquote><p>注意：</p><ul><li><p>如果引入的依赖，在本地仓库不存在，将会连接远程仓库/中央仓库，然后下载依赖。（这个过程会比较耗时，耐心等待）</p></li><li><p>如果不知道依赖的坐标信息，可以到<a target="_blank" rel="noopener" href="https://mvnrepository.com/%E4%B8%AD%E6%90%9C%E7%B4%A2%E3%80%82">https://mvnrepository.com/中搜索。</a></p></li></ul></blockquote><h3 id="依赖传递"><a href="#依赖传递" class="headerlink" title="依赖传递"></a>依赖传递</h3><ul><li><p>依赖具有传递性</p><ul><li>直接依赖：在当前项目中通过依赖配置建立的依赖关系</li><li>间接依赖：被依赖的资源如果依赖其他资源，当前项目间接依赖其他资源</li></ul><p><img src="/post/afa3c662/pic3.png"></p></li><li><p>排除依赖：排除依赖指主动断开依赖的资源，被排除的资源无需指定版本。</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-projectB<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><img src="/post/afa3c662/pic4.png"></p></li></ul><h3 id="依赖范围"><a href="#依赖范围" class="headerlink" title="依赖范围"></a>依赖范围</h3><p>依赖的jar包，默认情况下，可以在任何地方使用。可以通过 <code>&lt;scope&gt; … &lt;/ scope &gt;</code>设置其作用范围。</p><p>作用范围：</p><ul><li><p>主程序范围有效。（main文件夹范围内）</p></li><li><p>测试程序范围有效。（test文件夹范围内）</p></li><li><p>是否参与打包运行。（package指令范围内）</p></li></ul><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test&lt;/scope &gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th align="center"><strong>scope</strong>值</th><th align="center"><strong>主程序</strong></th><th align="center"><strong>测试程序</strong></th><th align="center"><strong>打包（运行）</strong></th><th align="center"><strong>范例</strong></th></tr></thead><tbody><tr><td align="center">compile（默认）</td><td align="center">Y</td><td align="center">Y</td><td align="center">Y</td><td align="center">log4j</td></tr><tr><td align="center">test</td><td align="center">-</td><td align="center">Y</td><td align="center">-</td><td align="center">junit</td></tr><tr><td align="center">provided</td><td align="center">Y</td><td align="center">Y</td><td align="center">-</td><td align="center">servlet-api</td></tr><tr><td align="center">runtime</td><td align="center">-</td><td align="center">Y</td><td align="center">Y</td><td align="center">jdbc驱动</td></tr></tbody></table><h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><p><img src="/post/afa3c662/pic5.png"></p><p>Maven的生命周期就是为了对所有的maven项目构建过程进行抽象和统一。</p><p>Maven中有3套<font color="red">相互独立</font>的生命周期：每套生命周期包含一些阶段（phase），阶段是有顺序的，后面的阶段依赖于前面的阶段。</p><ul><li><p>clean：清理工作。</p><ul><li>pre-clean</li><li><font color="red">clean</font>: 移除上一次构建生成的文件</li><li>post-clean</li></ul></li><li><p>default：核心工作，如：编译、测试、打包、安装、部署等。</p><ul><li>validate</li><li>initialize</li><li>generate-sources</li><li>process-sources</li><li>generate-resources</li><li>process-resources</li><li><font color="red">compile</font>: 编译项目源代码</li><li>process-classes</li><li>generate-test-sources</li><li>process-test-sources</li><li>generate-test-resources</li><li>process-test-resources</li><li>test-compile</li><li>process-test-classes</li><li><font color="red">test</font>: 使用合适的单元测试框架运行测试(junit)</li><li>prepare-package</li><li><font color="red">package</font>: 将编译后的文件打包，如：jar、war等</li><li>verify</li><li><font color="red">install</font>: 安装项目到本地仓库</li><li>deploy</li></ul></li><li><p>site：生成报告、发布站点等。</p><ul><li>pre-site</li><li>site</li><li>post-site</li><li>site-deploy</li></ul></li></ul><blockquote><p><strong>注意</strong>：在同一套生命周期中，当运行后面的阶段时，前面的阶段都会运行。</p></blockquote><p>执行指定生命周期的两种方式：</p><ul><li><p>在idea中，右侧的maven工具栏，选中对应的生命周期，双击执行。</p></li><li><p>在命令行中，通过命令执行。</p></li></ul><h1 id="Maven高级"><a href="#Maven高级" class="headerlink" title="Maven高级"></a>Maven高级</h1><h2 id="分模块设计与开发"><a href="#分模块设计与开发" class="headerlink" title="分模块设计与开发"></a>分模块设计与开发</h2><p><font color="red">为什么? </font>将项目按照功能拆分成若干个子模块，方便项目的管理维护、扩展，也方便模块间的相互调用，资源共享。</p><p>步骤：</p><ul><li>创建maven模块 tlias-pojo，存放实体类。</li><li>创建maven模块 tlias-utils，存放相关工具类。</li></ul><img src="/post/afa3c662/pic88.png" width="80%"><blockquote><p><strong>注意事项</strong>：分模块开发需要先针对模块功能进行设计，再进行编码。不会先将工程开发完毕，然后进行拆分。</p></blockquote><h2 id="继承与聚合"><a href="#继承与聚合" class="headerlink" title="继承与聚合"></a>继承与聚合</h2><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><h4 id="继承关系"><a href="#继承关系" class="headerlink" title="继承关系"></a>继承关系</h4><ul><li>概念：继承描述的是两个工程间的关系，与java中的继承相似，子工程可以继承父工程中的配置信息，常见于依赖关系的继承。</li><li>作用：简化依赖配置、统一管理依赖</li><li>实现：<font color="red">&lt;parent&gt; … &lt;/parent&gt;</font></li></ul><img src="/post/afa3c662/pic89.png" width="80%"><ul><li><p>步骤：</p><ol><li>创建maven模块 tlias-parent ，该工程为父工程，设置打包方式pom(默认jar)。</li><li>在子工程的pom.xml文件中，配置继承关系。</li></ol><blockquote><p><strong>注意事项</strong>：</p><ul><li>在子工程中，配置了继承关系之后，坐标中的groupId是可以省略的，因为会自动继承父工程的 。</li><li>relativePath指定父工程的pom文件的相对位置（如果不指定，将从本地仓库/远程仓库查找该工程）。</li></ul></blockquote><ol start="3"><li>在父工程中配置各个工程共有的依赖（子工程会自动继承父工程的依赖）。</li></ol><blockquote><p><strong>注意事项</strong>：若父子工程都配置了同一个依赖的不同版本，以子工程的为准。</p></blockquote></li></ul><img src="/post/afa3c662/pic90.png" width="50%"><blockquote><p><strong>jar</strong>：普通模块打包，springboot项目基本都是jar包（内嵌tomcat运行）<br><strong>war</strong>：普通web程序打包，需要部署在外部的tomcat服务器中运行<br><strong>pom</strong>：父工程或聚合工程，该模块不写代码，仅进行依赖管理</p></blockquote><h4 id="版本锁定"><a href="#版本锁定" class="headerlink" title="版本锁定"></a>版本锁定</h4><ul><li>在maven中，可以在父工程的pom文件中通过<font color="blue"> &lt;dependencyManagement&gt; </font>来统一管理依赖版本。</li></ul><img src="/post/afa3c662/pic91.png" width="90%"><blockquote><p><strong>注意事项</strong>：子工程引入依赖时，无需指定 &lt;version&gt; 版本号，父工程统一管理。变更依赖版本，只需在父工程中统一变更。</p></blockquote><ul><li>自定义属性/引用属性</li></ul><img src="/post/afa3c662/pic92.png"><blockquote><p><strong>&lt;dependencyManagement&gt; 与 &lt;dependencies&gt;的区别是什么?</strong></p><ul><li>&lt;dependencies&gt; 是直接依赖,在父工程配置了依赖,子工程会直接继承下来。</li><li>&lt;dependencyManagement&gt; 是统一管理依赖版本,不会直接依赖，还需要在子工程中引入所需依赖(无需指定版本)</li></ul></blockquote><h3 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h3><ul><li><p>聚合：将多个模块组织成一个整体，同时进行项目的构建。</p></li><li><p>聚合工程：一个不具有业务功能的“空”工程（有且仅有一个pom文件）</p></li><li><p>作用：快速构建项目（无需根据依赖关系手动构建，直接在聚合工程上构建即</p></li><li><p>maven中可以通过 <font color="blue">&lt;modules&gt;</font> 设置当前聚合工程所包含的子模块名称</p></li></ul><img src="/post/afa3c662/pic93.png"><blockquote><p><strong>注意事项</strong>：聚合工程中所包含的模块，在构建时，会自动根据模块间的依赖关系设置构建顺序，与聚合工程中模块的配置书写位置无关。</p></blockquote><h4 id="继承与聚合-1"><a href="#继承与聚合-1" class="headerlink" title="继承与聚合"></a>继承与聚合</h4><ul><li>作用<ul><li>聚合用于快速构建项目</li><li>继承用于简化依赖配置、统一管理依赖</li></ul></li><li>相同点：<ul><li>聚合与继承的pom.xml文件打包方式均为pom，可以将两种关系制作到同一个pom文件中</li><li>聚合与继承均属于设计型模块，并无实际的模块内容</li></ul></li><li>不同点：<ul><li>聚合是在聚合工程中配置关系，聚合可以感知到参与聚合的模块有哪些</li><li>继承是在子模块中配置关系，父模块无法感知哪些子模块继承了自己</li></ul></li></ul><h2 id="私服"><a href="#私服" class="headerlink" title="私服"></a>私服</h2><ul><li><p>私服是一种特殊的远程仓库，它是架设在局域网内的仓库服务，用来代理位于外部的中央仓库，用于解决团队内部的资源共享与资源同步问题。</p></li><li><p>依赖查找顺序：</p><ul><li>本地仓库</li><li>私服</li><li>中央仓库</li></ul></li><li><p>资源上传与下载</p></li></ul><img src="/post/afa3c662/pic94.png"><blockquote><p>项目版本：</p><ul><li><p>RELEASE（发行版本）：功能趋于稳定、当前更新停止，可以用于发行的版本，存储在私服中的RELEASE仓库中。</p></li><li><p>SNAPSHOT（快照版本）：功能不稳定、尚处于开发中的版本，即快照版本，存储在私服的SNAPSHOT仓库中。</p></li></ul></blockquote><ol><li>设置私服的访问用户名/密码（settings.xml中的servers中配置）</li></ol><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>IDEA的maven工程的pom文件中配置上传（发布）地址</li></ol><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.150.101:8081/repository/maven-releases/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.150.101:8081/repository/maven-snapshots/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>设置私服依赖下载的仓库组地址（settings.xml中的mirrors、profiles中配置）</li></ol><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-public<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.150.101:8081/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>allow-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-public<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.150.101:8081/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h1 id="SpringBoot-Web-基础篇"><a href="#SpringBoot-Web-基础篇" class="headerlink" title="SpringBoot Web 基础篇"></a>SpringBoot Web 基础篇</h1><ul><li>官网：spring.io</li><li>Spring发展到今天已经形成了一种开发生态圈，Spring提供了若干个子项目，每个项目用于完成特定的功能。</li></ul><p><img src="/post/afa3c662/pic6.png"></p><ul><li>Spring Boot 可以帮助我们非常快速的构建应用程序、简化开发、提高效率 。</li></ul><p><img src="/post/afa3c662/pic7.png"></p><h2 id="SpringBootWeb入门"><a href="#SpringBootWeb入门" class="headerlink" title="SpringBootWeb入门"></a>SpringBootWeb入门</h2><ul><li>需求：使用 SpringBoot 开发一个web应用，浏览器发起请求 /hello后，给浏览器返回字符串 “Hello World ~”。</li></ul><p><img src="/post/afa3c662/pic8.png"></p><ul><li><p>步骤</p><ol><li><p>创建springboot工程，填写模块信息，并勾选web开发相关依赖。</p><p><img src="/post/afa3c662/pic9.png"></p><p><img src="/post/afa3c662/pic10.png"></p></li><li><p>定义HelloController类，添加方法 hello，并添加注解。</p><p><img src="/post/afa3c662/pic11.png"></p></li><li><p>运行启动类，打开浏览器测试。</p><p><img src="/post/afa3c662/pic12.png"></p><p><img src="/post/afa3c662/pic13.png"></p></li></ol></li></ul><h2 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h2><p><img src="/post/afa3c662/pic14.png"></p><ul><li><p>概述</p><ul><li>概念：Hyper Text Transfer Protocol，超文本传输协议，规定了浏览器和服务器之间数据传输的规则。</li><li>特点：<ol><li>基于TCP协议：面向连接，安全</li><li>基于请求-响应模型的：一次请求对应一次响应</li><li>HTTP协议是无状态的协议：对于事务处理没有记忆能力。每次请求-响应都是独立的。<ul><li>缺点：多次请求间不能共享数据。</li><li>优点：速度快</li></ul></li></ol></li></ul></li><li><p>请求协议</p><p><img src="/post/afa3c662/pic15.png"></p></li></ul><table><thead><tr><th align="center">Host</th><th align="left">请求的主机名</th></tr></thead><tbody><tr><td align="center">User-Agent</td><td align="left">浏览器版本，例如Chrome浏览器的标识类似Mozilla/5.0 … Chrome/79，IE浏览器的标识类似Mozilla/5.0 (Windows NT …) like Gecko</td></tr><tr><td align="center">Accept</td><td align="left">表示浏览器能接收的资源类型，如text/*，image/<em>或者</em>/*表示所有；</td></tr><tr><td align="center">Accept-Language</td><td align="left">表示浏览器偏好的语言，服务器可以据此返回不同语言的网页；</td></tr><tr><td align="center">Accept-Encoding</td><td align="left">表示浏览器可以支持的压缩类型，例如gzip, deflate等。</td></tr><tr><td align="center">Content-Type</td><td align="left">请求主体的数据类型。</td></tr><tr><td align="center">Content-Length</td><td align="left">请求主体的大小（单位：字节）。</td></tr></tbody></table><blockquote><p><strong>注意</strong>：</p><ul><li><p><font color="red">请求方式-GET</font>：请求参数在请求行中，没有请求体，如：**/brand/findAll?name=OPPO&amp;status=1**。GET请求大小是有限制的。</p></li><li><p><font color="red">请求方式-POST</font>：请求参数在请求体中，POST请求大小是没有限制的。</p></li></ul></blockquote><ul><li><p>响应协议</p><p><img src="/post/afa3c662/pic16.png"></p></li></ul><table><thead><tr><th align="center">状态码分类</th><th align="left">说明</th></tr></thead><tbody><tr><td align="center">1xx</td><td align="left"><strong>响应中</strong>-临时状态码，表示请求已经接收，告诉客户端应该继续请求或者如果它已经完成则忽略它。</td></tr><tr><td align="center">2xx</td><td align="left">成功-表示请求已经被成功接收，处理已完成。</td></tr><tr><td align="center">3xx</td><td align="left"><strong>重定向</strong>-重定向到其他地方；让客户端再发起一次请求以完成整个处理。</td></tr><tr><td align="center">4xx</td><td align="left"><strong>客户端错误</strong>-处理发生错误，责任在客户端。如: 请求了不存在的资源、客户端未被授权、禁止访问等。</td></tr><tr><td align="center">5xx</td><td align="left"><strong>服务器错误</strong>-处理发生错误，责任在服务端。如：程序抛出异常等。</td></tr></tbody></table><table><thead><tr><th align="center">响应头</th><th align="left">说明</th></tr></thead><tbody><tr><td align="center">Content-Type</td><td align="left">表示该响应内容的类型，例如text/html，application/json。</td></tr><tr><td align="center">Content-Length</td><td align="left">表示该响应内容的长度（字节数）。</td></tr><tr><td align="center">Content-Encoding</td><td align="left">表示该响应压缩算法，例如gzip。</td></tr><tr><td align="center">Cache-Control</td><td align="left">指示客户端应如何缓存，例如max-age=300表示可以最多缓存300秒。</td></tr><tr><td align="center">Set-Cookie</td><td align="left">告诉浏览器为当前页面所在的域设置cookie。</td></tr></tbody></table><table><thead><tr><th align="center">状态码</th><th>解释</th></tr></thead><tbody><tr><td align="center">200</td><td>客户端请求成功。</td></tr><tr><td align="center">404</td><td>请求资源不存在，般是URL输入有误，或者网站资源被删除了。</td></tr><tr><td align="center">500</td><td>服务器发生不可预期的错误。</td></tr></tbody></table><p>状态码大全：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/chapter/13553">https://cloud.tencent.com/developer/chapter/13553</a></p><ul><li>协议解析</li></ul><p><img src="/post/afa3c662/pic17.png"></p><h2 id="Web服务器-Tomcat"><a href="#Web服务器-Tomcat" class="headerlink" title="Web服务器-Tomcat"></a>Web服务器-Tomcat</h2><ul><li>Web服务器是一个软件程序，对HTTP协议的操作进行封装，使得程序员不必直接对协议进行操作，让Web开发更加便捷。主要功能是 “提供网上信息浏览服务” 。</li></ul><h3 id="Tomcat简介"><a href="#Tomcat简介" class="headerlink" title="Tomcat简介"></a>Tomcat简介</h3><ul><li>概念： Tomcat是Apache 软件基金会一个核心项目，是一个开源免费的轻量级Web服务器，支持Servlet/JSP少量JavaEE规范。</li><li>JavaEE：Java Enterprise Edition，Java企业版。指 Java 企业级开发的技术规范总和。包含13项技术规范：JDBC、JNDI、EJB、RMI、JSP、Servlet、XML、JMS、Java IDL、JTS、JTA、JavaMail、JAF</li><li>Tomcat 也被称为 Web容器、Servlet容器。Servlet程序需要依赖于 Tomcat 才能运行</li></ul><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><ul><li><p>下载：官网下载，地址 <a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-90.cgi">https://tomcat.apache.org/download-90.cgi</a></p></li><li><p>安装：绿色版，直接解压即可</p></li><li><p>卸载：直接删除目录即可</p></li><li><p>启动：双击：bin\startup.bat</p><ul><li><p>控制台中文乱码：修改conf/ logging.properties</p><p><img src="/post/afa3c662/pic18.png"></p></li></ul></li><li><p>关闭：</p><ul><li>直接×掉运行窗口：强制关闭</li><li>bin\shutdown.bat：正常关闭</li><li>Ctrl+C：正常关闭</li></ul></li></ul><blockquote><p>常见问题：</p><ul><li><p>启动窗口一闪而过：检查JAVA_HOME环境变量是否正确配置</p></li><li><p>端口号冲突：找到对应程序，将其关闭掉</p></li></ul><p><img src="/post/afa3c662/pic19.png"></p></blockquote><ul><li>配置Tomcat端口号（conf/server.xml）</li></ul><p><img src="/post/afa3c662/pic20.png"></p><blockquote><p>注意：HTTP协议默认端口号为80，如果将Tomcat端口号改为80，则将来访问Tomcat时，将不用输入端口号 。</p></blockquote><ul><li>Tomcat 部署项目：将项目放置到 webapps 目录下， 即部署完成</li></ul><h3 id="入门程序解析"><a href="#入门程序解析" class="headerlink" title="入门程序解析"></a>入门程序解析</h3><p><img src="/post/afa3c662/pic21.png"></p><p><img src="/post/afa3c662/pic22.png"></p><blockquote><p><strong><font color="red">起步依赖：</font></strong></p><ul><li>spring-boot-starter-web：包含了web应用开发所需要的常见依赖。</li><li>spring-boot-starter-test：包含了单元测试所需要的常见依赖。</li><li>官方提供的starter：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/">https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#using.build-systems.starters</a></li></ul></blockquote><p><img src="/post/afa3c662/pic23.png"></p><h1 id="请求响应"><a href="#请求响应" class="headerlink" title="请求响应"></a>请求响应</h1><p><img src="/post/afa3c662/pic24.png"></p><ul><li>请求（HttpServletRequest）：获取请求数据</li><li>响应（HttpServletResponse）：设置响应数据</li><li>BS架构：Browser/Server，浏览器/服务器架构模式。客户端只需要浏览器，应用程序的逻辑和数据都存储在服务端。（<font color="green">维护方便</font> <font color="red">体验一般</font>）</li><li>CS架构：Client/Server，客户端/服务器架构模式。（<font color="red">开发、维护麻烦</font> <font color="green">体验不错</font>）</li></ul><h2 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h2><h3 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h3><p>Postman是一款功能强大的网页调试与发送网页HTTP请求的Chrome插件。</p><p>作用：常用于进行<font color="red">接口测试</font></p><p><img src="/post/afa3c662/pic25.png"></p><p><img src="/post/afa3c662/pic26.png"></p><h3 id="简单参数"><a href="#简单参数" class="headerlink" title="简单参数"></a>简单参数</h3><ul><li><p>原始方式：在原始的web程序中，获取请求参数，需要通过HttpServletRequest 对象手动获取。</p><img src="/post/afa3c662/pic27.png" width="50%"><p><img src="/post/afa3c662/pic28.png"></p></li><li><p>SpringBoot方式：参数名与形参变量名相同，定义形参即可接收参数。如果方法形参名称与请求参数名称不匹配，可以使用 @RequestParam 完成映射。</p><img src="/post/afa3c662/pic30.png" width="70%"><blockquote><p><strong>注意：</strong>@RequestParam中的required属性默认为true，代表该请求参数必须传递，如果不传递将报错。 如果该参数是可选的，可以将required属性设置为false。</p></blockquote><ul><li>post传递</li></ul><p><img src="/post/afa3c662/pic29.png"></p></li></ul><h3 id="实体参数"><a href="#实体参数" class="headerlink" title="实体参数"></a>实体参数</h3><ul><li><p>简单实体对象：请求参数名与形参对象属性名相同，定义POJO接收即可。</p><p><img src="/post/afa3c662/pic31.png"></p><p><img src="/post/afa3c662/pic32.png" width="50%"><img src="/post/afa3c662/pic33.png" width="45%"></p></li><li><p>复杂实体对象：请求参数名与形参对象属性名相同，按照对象层次结构关系即可接收嵌套POJO属性参数。</p><img src="/post/afa3c662/pic34.png" width=""><p><img src="/post/afa3c662/pic35.png" width="50%"><img src="/post/afa3c662/pic36.png" width="50%"></p><img src="/post/afa3c662/pic37.png" width="40%"></li></ul><h3 id="数组参数"><a href="#数组参数" class="headerlink" title="数组参数"></a>数组参数</h3><p>请求参数名与形参数组名称相同且请求参数为多个，定义数组类型形参即可接收参数</p><p><img src="/post/afa3c662/pic38.png"></p><p><img src="/post/afa3c662/pic39.png"></p><h3 id="集合参数"><a href="#集合参数" class="headerlink" title="集合参数"></a>集合参数</h3><p>请求参数名与形参集合名称相同且请求参数为多个，@RequestParam 绑定参数关系</p><p><img src="/post/afa3c662/pic38.png"></p><p><img src="/post/afa3c662/pic40.png"></p><h3 id="日期参数"><a href="#日期参数" class="headerlink" title="日期参数"></a>日期参数</h3><p>使用 @DateTimeFormat 注解完成日期参数格式转换</p><p><img src="/post/afa3c662/pic41.png"></p><p><img src="/post/afa3c662/pic42.png"></p><h3 id="JSON参数"><a href="#JSON参数" class="headerlink" title="JSON参数"></a>JSON参数</h3><p>JSON数据键名与形参对象属性名相同，定义POJO类型形参即可接收参数，需要使用 @RequestBody 标识</p><p><img src="/post/afa3c662/pic43.png"></p><img src="/post/afa3c662/pic44.png" width="50%"><h3 id="路径参数"><a href="#路径参数" class="headerlink" title="路径参数"></a>路径参数</h3><p>通过请求URL直接传递参数，使用{…}来标识该路径参数，需要使用 @PathVariable 获取路径参数</p><p><img src="/post/afa3c662/pic45.png"></p><img src="/post/afa3c662/pic46.png" width="70%"><h2 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h2><ul><li><p>响应数据：字符串、对象、集合</p></li><li><p>ResponseBody</p><ul><li>类型：<font color="red">方法注解、类注解</font></li><li>位置：Controller方法上/类上</li><li>作用：将方法返回值直接响应，如果返回值类型是 实体对象/集合 ，将会转换为JSON格式响应</li><li>说明：@RestController = @Controller + @ResponseBody ;</li></ul></li><li><p>统一响应结果：Result(code, msg, data)</p></li></ul><h2 id="分层解耦"><a href="#分层解耦" class="headerlink" title="分层解耦"></a>分层解耦</h2><h3 id="三层架构"><a href="#三层架构" class="headerlink" title="三层架构"></a>三层架构</h3><p><img src="/post/afa3c662/pic47.png"></p><ul><li>controller：控制层，接收前端发送的请求，对请求进行处理，并响应数据。</li><li>service：业务逻辑层，处理具体的业务逻辑。</li><li>dao：数据访问层(Data Access Object)（持久层），负责数据访问操作，包括数据的增、删、改、查。</li></ul><img src="/post/afa3c662/pic48.png" width="60%"> <img src="/post/afa3c662/pic50.png" width="60%"> <img src="/post/afa3c662/pic49.png" width="70%"><h3 id="分层解耦-1"><a href="#分层解耦-1" class="headerlink" title="分层解耦"></a>分层解耦</h3><ul><li><p>内聚：软件中各个功能模块内部的功能联系。</p></li><li><p>耦合：衡量软件中各个层/模块之间的依赖、关联的程度。</p></li><li><p>软件设计原则：高内聚低耦合。</p></li><li><p>分层思想</p><ul><li><p><strong>控制反转：</strong> Inversion Of Control，简称<font color="red">IOC</font>。对象的创建控制权由程序自身转移到外部（<strong>容器</strong>），这种思想称为控制反转。</p></li><li><p><strong>依赖注入：</strong> Dependency Injection，简称<font color="red">DI</font>。容器为应用程序提供运行时，所依赖的资源，称之为依赖注入。</p></li><li><p><strong>Bean对象：</strong>IOC容器中创建、管理的对象，称之为<font color="red">bean</font>。</p></li></ul></li></ul><h3 id="IOC-DI入门"><a href="#IOC-DI入门" class="headerlink" title="IOC &amp; DI入门"></a>IOC &amp; DI入门</h3><ul><li><p>步骤：</p><ol><li><p>Service层 及 Dao层的实现类，交给IOC容器管理。（加上<code>@Component</code>）</p><img src="/post/afa3c662/pic51.png" width=""></li><li><p>为Controller及Service注入运行时，依赖的对象。（加上<code>@Autowired</code>）</p><img src="/post/afa3c662/pic52.png" width=""></li><li><p>运行测试。</p></li></ol></li></ul><h3 id="IOC详解"><a href="#IOC详解" class="headerlink" title="IOC详解"></a>IOC详解</h3><ul><li><p>Bean的声明</p><p>要把某个对象交给IOC容器管理，需要在对应的类上加上如下注解之一：</p></li></ul><table><thead><tr><th align="center">注解</th><th>说明</th><th>位置</th></tr></thead><tbody><tr><td align="center">@Component</td><td>声明bean的基础注解</td><td>不属于以下三类时，用此注解</td></tr><tr><td align="center">@Controller</td><td>@Component的衍生注解</td><td>标注在控制器类上</td></tr><tr><td align="center">@Service</td><td>@Component的衍生注解</td><td>标注在业务类上</td></tr><tr><td align="center">@Repository</td><td>@Component的衍生注解</td><td>标注在数据访问类上（由于与mybatis整合，用的少）</td></tr></tbody></table><blockquote><p><strong>注意</strong>：</p><ul><li>声明bean的时候，可以通过value属性指定bean的名字，如果没有指定，默认为类名首字母小写。</li><li>使用以上四个注解都可以声明bean，但是在springboot集成web开发中，声明控制器bean只能用@Controller。</li></ul></blockquote><ul><li><p>Bean组件扫描</p><ul><li><p>前面声明bean的四大注解，要想生效，还需要被组件扫描注解@ComponentScan扫描。</p></li><li><p>@ComponentScan注解虽然没有显式配置，但是实际上已经包含在了启动类声明注解 @SpringBootApplication 中，默认扫描的范围是启动类所在包及其子包。</p><img src="/post/afa3c662/pic53.png" width="50%"></li></ul></li></ul><h3 id="DI详解"><a href="#DI详解" class="headerlink" title="DI详解"></a>DI详解</h3><ul><li><p>Bean注入</p><ul><li>@Autowired注解，默认是按照<strong>类型</strong>进行，如果存在多个相同类型的bean，将会报出如下错误：</li></ul><img src="/post/afa3c662/pic54.png" width=""><ul><li>通过以下几种方案来解决：<ul><li>@Primary</li><li>@Qualifier</li><li>@Resource</li></ul></li></ul><img src="/post/afa3c662/pic55.png" width=""></li></ul><blockquote><p><strong>@Resource 与 @Autowired区别</strong></p><ul><li><p>@Autowired 是spring框架提供的注解，而@Resource是JDK提供的注解。</p></li><li><p>@Autowired 默认是按照类型注入，而@Resource默认是按照名称注入</p></li></ul></blockquote><h1 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h1><ul><li><p>MyBatis是一款优秀的<font color="red">持久层</font>框架，用于简化JDBC的开发</p></li><li><p>MyBatis本是 Apache的-个开源项目iBatis,2010年这项目apache迁移到了oole cde，并且改名为MvBatis2013年11月迁移到Github年11月迁移到Github</p></li><li><p>官网: <a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></p></li></ul><h2 id="Mybatis入门"><a href="#Mybatis入门" class="headerlink" title="Mybatis入门"></a>Mybatis入门</h2><h3 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h3><ul><li><p>需求：使用Mybatis查询所有用户数据</p></li><li><p>步骤：</p><ol><li>准备工作(创建springboot工程、数据库表user、实体类User)</li><li>引入Mybatis的相关依赖，配置Mybatis(数据库连接信息)</li><li>编写SQL语句(注解/XML)</li><li>单元测试</li></ol></li></ul><h3 id="JDBC介绍"><a href="#JDBC介绍" class="headerlink" title="JDBC介绍"></a>JDBC介绍</h3><ul><li><p>JDBC： ( Java DataBase Connectivity )，就是使用Java语言操作关系型数据库的一套API。</p><p>详细见 <a href="https://threewood1.top/post/1c335eca.html">JDBC 学习 | Threewood (threewood1.top)</a></p></li></ul><h3 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h3><ul><li><p>介绍：</p><ul><li><font color="red">数据库连接池</font>是个容器，负责分配、管理数据库连接(Connection)</li><li>它允许应用程序重复使用一个现有的数据库连接，而不是再重新建立一个</li><li>释放空闲时间超过最大空闲时间的连接，来避免因为没有释放连接而引起的数据库连接遗漏</li></ul></li><li><p>优势：</p><ul><li>资源重用</li><li>提升系统响应速度</li><li>避免数据库连接遗漏</li></ul></li><li><p>标准接口：DataSource</p><ul><li>官方(sun)提供的数据库连接池接口，由第三方组织实现此接口。</li><li>功能：获取连接</li></ul></li><li><p>常见产品：</p><p><img src="/post/afa3c662/pic56.png"></p></li><li><p>Druid（德鲁伊）</p><ul><li>Druid连接池是阿里巴巴开源的数据库连接池项目</li><li>功能强大，性能优秀，是 Java 语言最好的数据库连接池之一</li></ul></li><li><p>切换Druid数据库连接池</p><p>官方地址：<a target="_blank" rel="noopener" href="https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter">https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter</a></p><p>详见：<a href="https://threewood1.top/post/1c335eca.html">JDBC学习 | Threewood (threewood1.top)</a> 中的使用优化部分</p></li></ul><h3 id="lombok"><a href="#lombok" class="headerlink" title="lombok"></a>lombok</h3><ul><li><p>Lombok是一个实用的Java类库，能通过注解的形式自动生成构造器、getter/setter、equals、hashcode、toString等方法，并可以自动化生成日志变量，简化java开发、提高效率。</p></li><li><p>依赖</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><table><thead><tr><th><strong>注解</strong></th><th><strong>作用</strong></th></tr></thead><tbody><tr><td>@Getter/@Setter</td><td>为所有的属性提供get/set方法</td></tr><tr><td>@ToString</td><td>会给类自动生成易阅读的 toString 方法</td></tr><tr><td>@EqualsAndHashCode</td><td>根据类所拥有的非静态字段自动重写 equals 方法和 hashCode 方法</td></tr><tr><td><font color="red">@Data</font></td><td>提供了更综合的生成代码功能（@Getter + @Setter + @ToString + @EqualsAndHashCode）</td></tr><tr><td><font color="red">@NoArgsConstructor</font></td><td>为实体类生成无参的构造器方法</td></tr><tr><td><font color="red">@AllArgsConstructor</font></td><td>为实体类生成除了static修饰的字段之外带有各参数的构造器方法。</td></tr></tbody></table><blockquote><p><strong>注意</strong>：Lombok会在编译时，自动生成对应的 java 代码。我们使用 lombok 时，还需要安装一个 lombok 的插件(idea自带)。</p></blockquote><h2 id="Mybatis基础操作"><a href="#Mybatis基础操作" class="headerlink" title="Mybatis基础操作"></a>Mybatis基础操作</h2><ul><li><p>准备</p><ul><li>准备数据库表 emp</li><li>创建一个新的springboot工程，选择引入对应的起步依赖（mybatis、mysql驱动、lombok）</li><li>application.properties中引入数据库连接信息</li><li>创建对应的实体类 Emp（实体类属性采用驼峰命名）</li><li>准备Mapper接口 EmpMapper</li></ul></li><li><p>删除</p><ul><li><p>接口方法:</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Delete("delete from emp where id = #{id}")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></tbody></table></figure></li></ul><blockquote><p><strong>注意</strong>：如果mapper接口方法形参只有一个普通类型的参数，#{…} 里面的属性名可以随便写，如：#{id}、#{value}。</p></blockquote><ul><li><p>日志输出：可以在application.properties中，打开mybatis的日志，并指定输出到控制台。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指定mybatis输出日志的位置,输出控制台</span></span><br><span class="line">mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>SQL注入</strong>：是通过操作输入的数据来修改事先定义好的SQL语句，以达到执行代码对服务器进行攻击的方法。</p></li><li><p>参数占位符：</p><ul><li><strong>#{…}</strong>: 执行SQL时，会将#{…}替换为?，生成预编译SQL，会自动设置参数值。使用时机：参数传递，都使用#{…}</li><li><strong>${…}</strong>: 拼接SQL，直接将参数拼接在SQL语句中，存在SQL注入问题。使用时机：如果对表名、列表进行动态设置时使用。</li></ul></li></ul></li><li><p>插入</p><ul><li><p>接口方法：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert("insert into emp(username, name, gender, image, job, entrydate, dept_id, create_time, update_time) " + </span></span><br><span class="line"><span class="meta">"values(#{username}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime})")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></tbody></table></figure></li><li><p>描述：在数据添加成功后，需要获取插入数据库数据的主键。如：添加套餐数据时，还需要维护套餐菜品关系表数据。</p></li><li><p>实现：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Options(keyProperty = "id", useGeneratedKeys = true)</span> <span class="comment">//会自动将生成的主键值，赋值给emp对象的id属性</span></span><br><span class="line"><span class="meta">@Insert("insert into emp(username, name, gender, image, job, entrydate, dept_id, create_time, update_time) " +</span></span><br><span class="line"><span class="meta">"values(#{username}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime})")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>更新</p><ul><li><p>接口方法：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Update("update emp set username=#{username}, name=#{name}, gender=#{gender}, image=#{image}, job=#{job}, entrydate=#{entrydate}, dept_id=#{deptId}, update_time=#{updateTime} where id=#{id}")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>查询（根据ID查询）</p><ul><li><p>接口方法：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select("select * from emp where id = #{id}")</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>数据封装</p><ul><li><p>实体类属性名和数据库表查询返回的字段名一致，mybatis会自动封装。</p></li><li><p>如果实体类属性名 和 数据库表查询返回的字段名不一致，不能自动封装。</p></li><li><p><strong>起别名</strong>：在SQL语句中，对不一样的列名起别名，别名和实体类属性名一样。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select("select id, username, password, name, gender, image, job, entrydate, dept_id deptId, create_time createTime, update_time updateTime from emp where id = #{id} ")</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></tbody></table></figure></li><li><p>手动结果映射：通过 @Results 及 @Result 进行手动结果映射。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select("select * from emp where id = #{id}")</span></span><br><span class="line"><span class="meta">@Results({</span></span><br><span class="line"><span class="meta">        @Result(column = "dept_id", property = "deptId"),</span></span><br><span class="line"><span class="meta">        @Result(column = "create_time", property = "createTime"),</span></span><br><span class="line"><span class="meta">        @Result(column = "update_time", property = "updateTime")})</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>开启驼峰命名</strong>：如果字段名与属性名符合驼峰命名规则，mybatis会自动通过驼峰命名规则映射。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开启驼峰命名自动映射，即从数据库字段名 a_column 映射到Java 属性名 aColumn。</span></span><br><span class="line">mybatis.configuration.map-underscore-to-camel-<span class="keyword">case</span>=<span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>查询（条件查询）</p><ul><li><p>接口方法</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select("select * from emp where name like  concat('%',#{name},'%') and gender = #{gender} and entrydate between #{begin} and #{end} order by update_time desc")</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">list</span><span class="params">(String name, Shortgender , LocalDate begin , LocalDate end)</span>;</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><h2 id="XML映射文件"><a href="#XML映射文件" class="headerlink" title="XML映射文件"></a>XML映射文件</h2><p>使用Mybatis的注解，主要是来完成一些简单的增删改查功能。如果需要实现复杂的SQL功能，建议使用XML来配置映射语句。</p><ul><li><p>规范：</p><ul><li>XML映射文件的名称与Mapper接口名称一致，并且将XML映射文件和Mapper接口放置在相同包下（同包同名）。</li><li>XML映射文件的namespace属性为Mapper接口全限定名一致。</li><li>XML映射文件中sql语句的id与Mapper 接口中的方法名一致，并保持返回类型一致。</li></ul></li><li><p>映射文件：<font color="red">MybatisX</font> 是一款基于 IDEA 的快速开发Mybatis的插件，为效率而生。</p></li><li><p>官方说明：<a target="_blank" rel="noopener" href="https://mybatis.net.cn/getting-started.html">https://mybatis.net.cn/getting-started.html</a></p></li></ul><h2 id="Mybatis动态SQL"><a href="#Mybatis动态SQL" class="headerlink" title="Mybatis动态SQL"></a>Mybatis动态SQL</h2><ul><li>动态SQL：随着用户的输入或外部条件的变化而变化的SQL语句，我们称为 <font color="red">动态SQL</font>。</li><li>&lt;if&gt;: 用于判断条件是否成立。使用test属性进行条件判断，如果条件为true，则拼接SQL。形式：&lt;if test=”name != null”&gt;…&lt;/if&gt;</li><li>&lt;where&gt;: where 元素只会在子元素有内容的情况下才插入where子句。而且会自动去除子句的开头的AND 或 OR。</li><li>&lt;set&gt;: 动态地在行首插入 SET 关键字，并会删掉额外的逗号。（用在update语句中）</li><li>&lt;foreach&gt;: 遍历操作。属性如下：<ul><li>collection：集合名称</li><li>item：集合遍历出来的元素/项</li><li>separator：每一次遍历使用的分隔符</li><li>open：遍历开始前拼接的片段</li><li>close：遍历结束后拼接的片段</li></ul></li><li>&lt;sql&gt;: 定义可重用的 SQL 片段。</li><li>&lt;include&gt;: 通过属性refid，指定包含的sql片段。</li></ul><h1 id="SpringBoot-Web开发篇"><a href="#SpringBoot-Web开发篇" class="headerlink" title="SpringBoot Web开发篇"></a>SpringBoot Web开发篇</h1><h2 id="SpringBootWeb案例"><a href="#SpringBootWeb案例" class="headerlink" title="SpringBootWeb案例"></a>SpringBootWeb案例</h2><p>略略略略略。详见<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1m84y1w7Tb?p=135">https://www.bilibili.com/video/BV1m84y1w7Tb?p=135</a></p><h2 id="SpringBootWeb登录校验"><a href="#SpringBootWeb登录校验" class="headerlink" title="SpringBootWeb登录校验"></a>SpringBootWeb登录校验</h2><ul><li><p>问题分析：在未登录情况下，我们也可以直接访问部门管理、员工管理等功能。</p></li><li><p>登录校验</p><p><img src="/post/afa3c662/pic57.png"></p><ul><li>登录标记：用户登录成功之后，每一次请求中，都可以获取到该标记。</li><li>统一拦截：①过滤器Filter、②拦截器Interceptor</li></ul></li></ul><h3 id="会话技术"><a href="#会话技术" class="headerlink" title="会话技术"></a>会话技术</h3><ul><li>会话：用户打开浏览器，访问web服务器的资源，会话建立，直到有一方断开连接，会话结束。在一次会话中可以包含<font color="red">多次</font>请求和响应。</li><li>会话跟踪：一种维护浏览器状态的方法，服务器需要识别多次请求是否来自于同一浏览器，以便在同一次会话的多次请求间<font color="red">共享数据</font>。</li><li>会话跟踪方案：<ul><li>客户端会话跟踪技术：Cookie</li><li>服务端会话跟踪技术：Session</li><li>令牌技术</li></ul></li></ul><p><img src="/post/afa3c662/pic58.png"></p><ul><li>会话跟踪方案对比</li></ul><p><img src="/post/afa3c662/pic59.png"></p><h3 id="JWT令牌"><a href="#JWT令牌" class="headerlink" title="JWT令牌"></a>JWT令牌</h3><ul><li><p>简介：</p><p>全称：JSON Web Token （<a target="_blank" rel="noopener" href="https://jwt.io/%EF%BC%89">https://jwt.io/）</a></p><p>定义了一种简洁的、自包含的格式，用于在通信双方以json数据格式安全的传输信息。由于数字签名的存在，这些信息是可靠的。</p><p>组成：</p><ul><li>第一部分：Header(头）， 记录令牌类型、签名算法等。 例如：{“alg”:”HS256”,”type”:”JWT”}</li><li>第二部分：Payload(有效载荷），携带一些自定义信息、默认信息等。 例如：{“id”:”1”,”username”:”Tom”}</li><li>第三部分：Signature(签名），防止Token被篡改、确保安全性。将header、payload，并加入指定秘钥，通过指定签名算法计算而来。</li></ul></li></ul><p><img src="/post/afa3c662/pic60.png"></p><blockquote><p>Base64: 是一种基于64个可打印字符（A-Z a-z 0-9 + /）来表示二进制数据的编码方式。</p></blockquote><ul><li><p>场景：登陆认证</p><p>① 登录成功后，生成令牌</p><p>② 后续每个请求，都要携带JWT令牌，系统在每次请求处理之前，先校验令牌，通过后，再处理</p></li></ul><p><img src="/post/afa3c662/pic61.png"></p><ul><li><p>JWT-生成</p><p>依赖：</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>生成 JWT：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">genJwt</span><span class="params">()</span>{</span><br><span class="line">    Map&lt;String,Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    claims.put(“id”,<span class="number">1</span>);</span><br><span class="line">    claims.put(“username”,“Tom”);</span><br><span class="line">    <span class="type">String</span> <span class="variable">jwt</span> <span class="operator">=</span> Jwts.builder()</span><br><span class="line">        .setClaims(claims) <span class="comment">//自定义内容(载荷)</span></span><br><span class="line">        .signWith(SignatureAlgorithm.HS256, “atxiong”) <span class="comment">//签名算法</span></span><br><span class="line">        .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + <span class="number">12</span>*<span class="number">3600</span>*<span class="number">1000</span>)) <span class="comment">//有效期</span></span><br><span class="line">        .compact();</span><br><span class="line">    System.out.println(jwt);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>JWT-校验</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseJwt</span><span class="params">()</span>{</span><br><span class="line">    <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> Jwts.parser()</span><br><span class="line">        .setSigningKey(“atxiong”)  <span class="comment">//指定签名秘钥 </span></span><br><span class="line">.parseClaimsJws(“eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNjU5OTk1NTE3LCJ1c2VybmFtZSI6IlRvbSJ9.EUTfeqPkGslekdKBezcWCe7a7xbcIIwB1MXlIccTMwo”) <span class="comment">//解析令牌</span></span><br><span class="line">        .getBody();</span><br><span class="line">    System.out.println(claims);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><blockquote><p><strong>注意</strong>：</p><ul><li><p>JWT校验时使用的签名秘钥，必须和生成JWT令牌时使用的秘钥是配套的。</p></li><li><p>如果JWT令牌解析校验时报错，则说明 JWT令牌被篡改 或 失效了，令牌非法</p></li></ul></blockquote><ul><li><p>实现</p><ul><li>令牌生成：登录成功后，生成JWT令牌，并返回给前端。<ul><li>引入JWT令牌操作工具类。</li><li>登录完成后，调用工具类生成JWT令牌，并返回。</li></ul></li></ul><p><img src="/post/afa3c662/pic62.png"></p><ul><li>令牌校验：在请求到达服务端后，对令牌进行统一拦截、校验**(Filter、Interceptor)**。</li></ul></li></ul><h3 id="过滤器Filter"><a href="#过滤器Filter" class="headerlink" title="过滤器Filter"></a>过滤器Filter</h3><p>概念：<font color="red">Filter</font> 过滤器，是 JavaWeb 三大组件(Servlet、Filter、Listener)之一。</p><p>过滤器可以把对资源的请求<font color="red">拦截</font>下来，从而实现一些特殊的功能。</p><p>过滤器一般完成一些<font color="red">通用</font>的操作，比如：登录校验、统一编码处理、敏感字符处理等。</p><ul><li><p>快速入门</p><ol><li>定义Filter：定义一个类，实现 Filter 接口，并重写其所有方法。</li></ol><p><img src="/post/afa3c662/pic63.png"></p><ol start="2"><li>配置Filter：Filter类上加 @WebFilter 注解，配置拦截资源的路径。引导类上加 @ServletComponentScan 开启Servlet组件支持</li></ol><p><img src="/post/afa3c662/pic64.png"></p></li><li><p>详解</p><ul><li>执行流程</li></ul><p><img src="/post/afa3c662/pic65.png"></p><ul><li>拦截路径：Filter 可以根据需求，配置不同的拦截资源路径</li></ul><table><thead><tr><th align="center">拦截路径</th><th>urlPatterns值</th><th>含义</th></tr></thead><tbody><tr><td align="center">拦截具体路径</td><td>/login</td><td>只有访问 /login 路径时，才会被拦截</td></tr><tr><td align="center">目录拦截</td><td>/emps/*</td><td>访问/emps下的所有资源，都会被拦截</td></tr><tr><td align="center">拦截所有</td><td>/*</td><td>访问所有资源，都会被拦截</td></tr></tbody></table><ul><li>过滤器链：<ul><li>介绍：一个web应用中，可以配置多个过滤器，这多个过滤器就形成了一个<font color="red">过滤器链</font>。</li><li>顺序：注解配置的Filter，优先级是按照过滤器类名（字符串）的自然排序。</li></ul></li></ul></li><li><p>登录校验Filter-流程</p><ul><li>获取请求url。</li><li>判断请求url中是否包含login，如果包含，说明是登录操作，放行。</li><li>获取请求头中的令牌（token）。</li><li>判断令牌是否存在，如果不存在，返回错误结果（未登录）。</li><li>解析token，如果解析失败，返回错误结果（未登录）。</li><li>放行。</li></ul></li></ul><img src="/post/afa3c662/pic66.png" width="50%"><h3 id="拦截器Interceptor"><a href="#拦截器Interceptor" class="headerlink" title="拦截器Interceptor"></a>拦截器Interceptor</h3><ul><li>概念：是一种动态拦截方法调用的机制，类似于过滤器。Spring框架中提供的，用来动态拦截控制器方法的执行。</li><li>作用：拦截请求，在指定的方法调用前后，根据业务需要执行预先设定的代码。</li></ul><p><img src="/post/afa3c662/pic67.png"></p><ul><li><p>快速入门</p><ol><li>定义拦截器，实现HandlerInterceptor接口，并重写其所有方法。</li></ol><img src="/post/afa3c662/pic68.png" width=""><ol start="2"><li>注册拦截器</li></ol><img src="/post/afa3c662/pic69.png" width="70%"></li><li><p>详解</p><ul><li>拦截路径</li></ul><img src="/post/afa3c662/pic70.png" width=""><table><thead><tr><th>拦截路径</th><th>含义</th><th>举例</th></tr></thead><tbody><tr><td>/*</td><td>一级路径</td><td>能匹配/depts，/emps，/login，不能匹配 /depts/1</td></tr><tr><td>/**</td><td>任意级路径</td><td>能匹配/depts，/depts/1，/depts/1/2</td></tr><tr><td>/depts/*</td><td>/depts下的一级路径</td><td>能匹配/depts/1，不能匹配/depts/1/2，/depts</td></tr><tr><td>/depts/**</td><td>/depts下的任意级路径</td><td>能匹配/depts，/depts/1，/depts/1/2，不能匹配/emps/1</td></tr></tbody></table><ul><li>执行流程</li></ul><img src="/post/afa3c662/pic71.png" width=""></li></ul><blockquote><p><strong>Filter 与 Interceptor的区别</strong></p><ul><li>接口规范不同：过滤器需要实现Filter接口，而拦截器需要实现HandlerInterceptor接口。</li><li>拦截范围不同：过滤器Filter会拦截所有的资源，而Interceptor只会拦截Spring环境中的资源。</li></ul></blockquote><ul><li><p>登录校验Interceptor-流程</p><ul><li>获取请求url。</li><li>判断请求url中是否包含login，如果包含，说明是登录操作，放行。</li><li>获取请求头中的令牌（token）。</li><li>判断令牌是否存在，如果不存在，返回错误结果（未登录）。</li><li>解析token，如果解析失败，返回错误结果（未登录）。</li><li>放行。</li></ul><img src="/post/afa3c662/pic72.png" width="50%"></li></ul><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>程序开发过程中不可避免的会遇到异常现象。出现异常，该如何处理?</p><ul><li>方案一：在Controller的方法中进行try…catch处理 <font color="red">代码臃肿、不推荐</font></li><li>方案二：全局异常处理器 <font color="green">简单、优雅、推荐</font></li></ul><h3 id="全局异常处理器"><a href="#全局异常处理器" class="headerlink" title="全局异常处理器"></a>全局异常处理器</h3><img src="/post/afa3c662/pic73.png" width="50%"><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> {</span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">ex</span><span class="params">(Exception ex)</span>{</span><br><span class="line">        ex.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">" 对不起,操作失败,请联系管理员 "</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>@RestControllerAdvice = @ControllerAdvice + @ResponseBody</p></blockquote><h2 id="Spring事务管理"><a href="#Spring事务管理" class="headerlink" title="Spring事务管理"></a>Spring事务管理</h2><h3 id="事务回顾"><a href="#事务回顾" class="headerlink" title="事务回顾"></a>事务回顾</h3><p>概念：事务 是一组操作的集合，它是一个不可分割的工作单位，这些操作 要么同时成功，要么同时失败。</p><p>操作：</p><ul><li>开启事务（一组操作开始前，开启事务）：<code>start transaction / begin</code> ;</li><li>提交事务（这组操作全部成功后，提交事务）：<code>commit</code>;</li><li>回滚事务（中间任何一个操作出现异常，回滚事务）：<code>rollback</code> ;</li></ul><h3 id="spring事务管理"><a href="#spring事务管理" class="headerlink" title="spring事务管理"></a>spring事务管理</h3><p>注解：<code>@Transactional</code></p><p>位置：业务（service）层的方法上、类上、接口上</p><p>作用：将当前方法交给spring进行事务管理，方法执行前，开启事务；成功执行完毕，提交事务；出现异常，回滚事务</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#开启事务管理日志</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">	<span class="attr">level:</span></span><br><span class="line">		<span class="attr">org.springframework.jdbc.support.JdbcTransactionManager:</span> <span class="string">debug</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="事务属性-回滚"><a href="#事务属性-回滚" class="headerlink" title="事务属性-回滚"></a>事务属性-回滚</h3><p><strong>rollbackFor</strong></p><p>默认情况下，只有出现 RuntimeException 才回滚异常。rollbackFor属性用于控制出现何种异常类型，回滚事务。</p><img src="/post/afa3c662/pic74.png" width="70%"><h3 id="事务属性-传播行为"><a href="#事务属性-传播行为" class="headerlink" title="事务属性-传播行为"></a>事务属性-传播行为</h3><p><strong>propagation</strong></p><p>事务传播行为：指的就是当一个事务方法被另一个事务方法调用时，这个事务方法应该如何进行事务控制。</p><img src="/post/afa3c662/pic75.png" width="60%"><table><thead><tr><th align="center"><strong>属性值</strong></th><th><strong>含义</strong></th></tr></thead><tbody><tr><td align="center"><font color="red">REQUIRED</font></td><td>【默认值】需要事务，有则加入，无则创建新事务</td></tr><tr><td align="center"><font color="red">REQUIRES_NEW</font></td><td>需要新事务，无论有无，总是创建新事务</td></tr><tr><td align="center">SUPPORTS</td><td>支持事务，有则加入，无则在无事务状态中运行</td></tr><tr><td align="center">NOT_SUPPORTED</td><td>不支持事务，在无事务状态下运行,如果当前存在已有事务,则挂起当前事务</td></tr><tr><td align="center">MANDATORY</td><td>必须有事务，否则抛异常</td></tr><tr><td align="center">NEVER</td><td>必须没事务，否则抛异常</td></tr><tr><td align="center">…</td><td>…</td></tr></tbody></table><ul><li>场景<ul><li>REQUIRED ：大部分情况下都是用该传播行为即可。</li><li>REQUIRES_NEW ：当我们不希望事务之间相互影响时，可以使用该传播行为。比如：下订单前需要记录日志，不论订单保存成功与否，都需要保证日志记录能够记录成功。</li></ul></li></ul><h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><h3 id="AOP基础"><a href="#AOP基础" class="headerlink" title="AOP基础"></a>AOP基础</h3><h4 id="AOP概述"><a href="#AOP概述" class="headerlink" title="AOP概述"></a>AOP概述</h4><ul><li><font color="red">AOP</font>：Aspect Oriented Programming（<font color="red">面向切面编程、面向方面编程</font>），其实就是面向特定方法编程。</li><li>场景：案例部分功能运行较慢，定位执行耗时较长的业务方法，此时需要统计每一个业务方法的执行耗时。</li></ul><p><img src="/post/afa3c662/pic76.png"></p><ul><li>优势</li></ul><p><img src="/post/afa3c662/pic77.png"></p><ul><li>实现：动态代理是面向切面编程最主流的实现。而SpringAOP是Spring框架的高级技术，旨在管理bean对象的过程中，主要通过底层的动态代理机制，对特定的方法进行编程。</li></ul><h4 id="AOP快速入门"><a href="#AOP快速入门" class="headerlink" title="AOP快速入门"></a>AOP快速入门</h4><ul><li><p>导入依赖：在pom.xml中导入AOP的依赖</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>编写AOP程序：针对于特定方法根据业务需要进行编程</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeAspect</span> {</span><br><span class="line">    <span class="meta">@Around("execution(* com.atxiong.service.*.*(..))")</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">recordTime</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable {</span><br><span class="line">        <span class="type">long</span> <span class="variable">begin</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> proceedingJoinPoint.proceed(); <span class="comment">//调用原始方法运行</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        log.info(proceedingJoinPoint.getSignature()+<span class="string">"执行耗时: {}ms"</span>, end - begin);</span><br><span class="line">        <span class="keyword">return</span> object;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="AOP核心概念"><a href="#AOP核心概念" class="headerlink" title="AOP核心概念"></a>AOP核心概念</h4><ul><li>连接点：JoinPoint，可以被AOP控制的方法（暗含方法执行时的相关信息）</li><li>通知：Advice，指哪些重复的逻辑，也就是共性功能（最终体现为一个方法）</li><li>切入点：PointCut，匹配连接点的条件，通知仅会在切入点方法执行时被应用</li><li>切面：Aspect，描述通知与切入点的对应关系（通知+切入点）</li><li>目标对象：Target，通知所应用的对象</li></ul><p><img src="/post/afa3c662/pic78.png"></p><ul><li>AOP执行流程</li></ul><p><img src="/post/afa3c662/pic79.png"></p><h3 id="AOP进阶"><a href="#AOP进阶" class="headerlink" title="AOP进阶"></a>AOP进阶</h3><h4 id="通知类型"><a href="#通知类型" class="headerlink" title="通知类型"></a>通知类型</h4><ul><li>@Around：环绕通知，此注解标注的通知方法在目标方法前、后都被执行</li><li>@Before：前置通知，此注解标注的通知方法在目标方法前被执行</li><li>@After ：后置通知，此注解标注的通知方法在目标方法后被执行，无论是否有异常都会执行</li><li>@AfterReturning ： 返回后通知，此注解标注的通知方法在目标方法后被执行，有异常不会执行</li><li>@AfterThrowing ： 异常后通知，此注解标注的通知方法发生异常后执行</li></ul><blockquote><p><strong>注意事项：</strong></p><ul><li>@Around环绕通知需要自己调用 ProceedingJoinPoint.proceed() 来让原始方法执行，其他通知不需要考虑目标方法执行</li><li>@Around环绕通知方法的返回值，必须指定为Object，来接收原始方法的返回值。</li></ul></blockquote><ul><li>PointCut：该注解的作用是将公共的切点表达式抽取出来，需要用到时引用该切点表达式即可。</li></ul><img src="/post/afa3c662/pic80.png" width="80%"><h4 id="通知顺序"><a href="#通知顺序" class="headerlink" title="通知顺序"></a>通知顺序</h4><p>当有多个切面的切入点都匹配到了目标方法，目标方法运行时，多个通知方法都会被执行。</p><p>执行顺序：</p><ol><li>不同切面类中，默认按照切面类的<font color="red">类名字母排序</font>：<ul><li>目标方法前的通知方法：字母排名靠前的先执行</li><li>目标方法后的通知方法：字母排名靠前的后执行</li></ul></li><li>用 <font color="red">@Order(数字)</font> 加在切面类上来控制顺序<ul><li>目标方法前的通知方法：数字小的先执行</li><li>目标方法后的通知方法：数字小的后执行</li></ul></li></ol><h4 id="切入点表达式"><a href="#切入点表达式" class="headerlink" title="切入点表达式"></a>切入点表达式</h4><ul><li><p>切入点表达式：描述切入点方法的一种表达式</p></li><li><p>作用：主要用来决定项目中的哪些方法需要加入通知</p></li><li><p>常见形式：</p><ol><li>execution(……)：主要根据方法的返回值、包名、类名、方法名、方法参数等信息来匹配，语法为：</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(访问修饰符?  返回值  包名.类名.?方法名(方法参数) <span class="keyword">throws</span> 异常?)</span><br></pre></td></tr></tbody></table></figure><ul><li><p>其中带 ? 的表示可以省略的部分</p><ul><li>访问修饰符：可省略（比如: public、protected）</li><li>包名.类名： 可省略</li><li>throws 异常：可省略（注意是方法上声明抛出的异常，不是实际抛出的异常）</li></ul></li><li><p>可以使用通配符描述切入点</p><ul><li>* ：单个独立的任意符号，可以通配任意返回值、包名、类名、方法名、任意类型的一个参数，也可以通配包、类、方法名的一部分</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(* com.*.service.*.update*(*))</span><br></pre></td></tr></tbody></table></figure><ul><li>.. ：多个连续的任意符号，可以通配任意层级的包，或任意类型、任意个数的参数</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(* com.itheima..DeptService.*(..))</span><br></pre></td></tr></tbody></table></figure></li></ul><img src="/post/afa3c662/pic81.png" width="90%"><blockquote><p><strong>注意事项</strong>：根据业务需要，可以使用 且（&amp;&amp;）、或（||）、非（!） 来组合比较复杂的切入点表达式。</p></blockquote><ul><li>书写建议<ul><li>所有业务方法名在命名时尽量规范，方便切入点表达式快速匹配。如：查询类方法都是 find 开头，更新类方法都是 update开头。</li><li>描述切入点方法通常基于接口描述，而不是直接描述实现类，增强拓展性。</li><li>在满足业务需要的前提下，尽量缩小切入点的匹配范围。如：包名匹配尽量不使用 ..，使用 * 匹配单个包。</li></ul></li></ul><ol start="2"><li>@annotation(……) ：用于匹配标识有特定注解的方法。</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@annotation(com.itheima.anno.Log)</span></span><br></pre></td></tr></tbody></table></figure><img src="/post/afa3c662/pic82.png" width="90%"></li></ul><h4 id="连接点"><a href="#连接点" class="headerlink" title="连接点"></a>连接点</h4><ul><li>在Spring中用 <font color="red">JoinPoint</font> 抽象了连接点，用它可以获得方法执行时的相关信息，如目标类名、方法名、方法参数等。<ul><li>对于 @Around 通知，获取连接点信息只能使用 ProceedingJoinPoint</li><li>对于其他四种通知，获取连接点信息只能使用 JoinPoint ，它是 ProceedingJoinPoint 的父类型</li></ul></li></ul><h3 id="AOP案例"><a href="#AOP案例" class="headerlink" title="AOP案例"></a>AOP案例</h3><p>略略略略略。详见<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1m84y1w7Tb?p=182">https://www.bilibili.com/video/BV1m84y1w7Tb?p=182</a></p><h1 id="SpringBoot-Web进阶篇"><a href="#SpringBoot-Web进阶篇" class="headerlink" title="SpringBoot Web进阶篇"></a>SpringBoot Web进阶篇</h1><h2 id="配置优先级"><a href="#配置优先级" class="headerlink" title="配置优先级"></a>配置优先级</h2><ul><li>SpringBoot 中支持三种格式的配置文件的优先级为：<code>application.properties</code> &gt; <code>application.yml</code> &gt; <code>application.yaml</code></li></ul><blockquote><p><strong>注意</strong>：虽然springboot支持多种格式配置文件，但是在项目开发时，推荐统一使用一种格式的配置 （yml是主流）。</p></blockquote><ul><li>SpringBoot 除了支持配置文件属性配置，还支持 <font color="red">Java系统属性&nbsp;</font>和<font color="red"> 命令行参数 </font>的方式进行属性配置。</li></ul><p><img src="/post/afa3c662/pic83.png"></p><p>①. 执行maven打包指令package</p><p><img src="/post/afa3c662/pic84.png"></p><p>②. 执行java指令，运行jar包</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Dserver.port=9000 -jar tlias-web-management-0.0.1-SNAPSHOT.jar --server.port=10010</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>注意</strong>：Springboot项目进行打包时，需要引入插件 spring-boot-maven-plugin (基于官网骨架创建项目，会自动添加该插件)</p></blockquote><ul><li>优先级（低 —&gt; 高）<ul><li>application.yaml（忽略）</li><li>application.yml</li><li>application.properties</li><li>java系统属性（-Dxxx=xxx）</li><li>命令行参数（–xxx=xxx）</li></ul></li></ul><h2 id="Bean管理"><a href="#Bean管理" class="headerlink" title="Bean管理"></a>Bean管理</h2><h3 id="获取bean"><a href="#获取bean" class="headerlink" title="获取bean"></a>获取bean</h3><ul><li><p>默认情况下，Spring项目启动时，会把bean都创建好放在IOC容器中，如果想要主动获取这些bean，可以通过如下方式：</p><ul><li>根据name获取bean：</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object <span class="title function_">getBean</span><span class="params">(String name)</span></span><br></pre></td></tr></tbody></table></figure><ul><li>根据类型获取bean：</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T <span class="title function_">getBean</span><span class="params">(Class&lt;T&gt; requiredType)</span></span><br></pre></td></tr></tbody></table></figure><ul><li>根据name获取bean（带类型转换）：</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T <span class="title function_">getBean</span><span class="params">(String name, Class&lt;T&gt; requiredType)</span></span><br></pre></td></tr></tbody></table></figure></li></ul><blockquote><p><strong>注意事项：</strong>上述所说的 【Spring项目启动时，会把其中的bean都创建好】还会受到作用域及延迟初始化影响，这里主要针对于 默认的单例非延迟加载的bean而言。</p></blockquote><h3 id="bean作用域"><a href="#bean作用域" class="headerlink" title="bean作用域"></a>bean作用域</h3><ul><li>Spring支持五种作用域，后三种在web环境才生效：</li></ul><table><thead><tr><th align="center"><strong>作用域</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td align="center"><font color="red">singleton</font></td><td>容器内同 名称 的 bean 只有一个实例（单例）（默认）</td></tr><tr><td align="center"><font color="red">prototype</font></td><td>每次使用该 bean 时会创建新的实例（非单例）</td></tr><tr><td align="center">request</td><td>每个请求范围内会创建新的实例（web环境中，了解）</td></tr><tr><td align="center">session</td><td>每个会话范围内会创建新的实例（web环境中，了解）</td></tr><tr><td align="center">application</td><td>每个应用范围内会创建新的实例（web环境中，了解）</td></tr></tbody></table><ul><li>可以通过 @Scope 注解来进行配置作用域：</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scope("prototype")</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping("/depts")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>注意事项：</strong></p><ul><li>默认singleton的bean，在容器启动时被创建，可以使用@Lazy注解来延迟初始化（延迟到第一次使用时）。</li><li>prototype的bean，每一次使用该bean的时候都会创建一个新的实例。</li><li>实际开发当中，绝大部分的Bean是单例的，也就是说绝大部分Bean不需要配置scope属性。</li></ul></blockquote><h3 id="第三方bean"><a href="#第三方bean" class="headerlink" title="第三方bean"></a>第三方bean</h3><ul><li>@Bean：如果要管理的 bean 对象来自于第三方（不是自定义的），是无法用 <code>@Component</code> 及衍生注解声明 bean 的，就需要用到 <code>@Bean</code>注解。</li><li>若要管理的第三方bean对象，建议对这些bean进行集中分类配置，可以通过 <code>@Configuration</code> 注解声明一个配置类。</li></ul><p><img src="/post/afa3c662/pic85.png"></p><blockquote><p><strong>注意事项：</strong></p><ul><li>通过@Bean注解的name或value属性可以声明bean的名称，如果不指定，默认bean的名称就是方法名。</li><li>如果第三方bean需要依赖其它bean对象，直接在bean定义方法中设置形参即可，容器会根据类型自动装配。</li></ul></blockquote><ul><li>@Component 及衍生注解 与 @Bean注解使用场景？<ul><li>项目中自定义的，使用@Component及其衍生注解</li><li>项目中引入第三方的，使用@Bean注解</li></ul></li></ul><h2 id="SpringBoot原理"><a href="#SpringBoot原理" class="headerlink" title="SpringBoot原理"></a>SpringBoot原理</h2><h3 id="起步依赖"><a href="#起步依赖" class="headerlink" title="起步依赖"></a>起步依赖</h3><p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/2.7.7/reference/htmlsingle/#using.build-systems.starters">Spring Boot Reference Documentation</a></p><h3 id="自动配置"><a href="#自动配置" class="headerlink" title="自动配置"></a>自动配置</h3><p>SpringBoot的自动配置就是当spring容器启动后，一些配置类、bean对象就自动存入到了IOC容器中，不需要我们手动去声明，从而简化了开发，省去了繁琐的配置操作。</p><ul><li><p>自动配置原理</p><ul><li>方案一（不推荐）：<code>@ComponentScan</code> 组件扫描</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ComponentScan({"com.example","com.itheima,com.alibaba","com.google","org.springframework","org.mybatis",...})</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringbootWebConfig2Application</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>方案二：<code>@Import</code> 导入。使用<code>@Import</code>导入的类会被 Spring 加载到 IOC 容器中，导入形式主要有以下几种：<ul><li>导入 普通类</li><li>导入 配置类</li><li>导入 <code>ImportSelector</code> 接口实现类</li><li><font color="red">@EnableXxxx注解，封装@Import注解 (SpringBoot 使用的)</font></li></ul></li></ul></li><li><p>源码跟踪</p></li></ul><p><img src="/post/afa3c662/pic86.png"></p><blockquote><p>@SpringBootApplication</p><p>该注解标识在SpringBoot工程引导类上，是SpringBoot中<font color="red">最最最重要</font>的注解。该注解由三个部分组成：</p><ul><li>@SpringBootConfiguration：该注解与 @Configuration 注解作用相同，用来声明当前也是一个配置类。</li><li>@ComponentScan：组件扫描，默认扫描当前引导类所在包及其子包。</li><li>@EnableAutoConfiguration：SpringBoot实现自动化配置的<font color="red">核心注解</font>。</li></ul></blockquote><p><img src="/post/afa3c662/pic87.png"></p><p><font color="red">SpringBoot 会根据 <code>@Conditional</code> 注解条件装配！</font></p><ul><li><p>Conditional</p><ul><li>作用：按照一定的条件进行判断，在满足给定条件后才会注册对应的 bean 对象到 Spring IOC 容器中。</li><li>位置：方法、类<ul><li><code>@Conditional</code> 本身是一个父注解，派生出大量的子注解：</li><li><code>@ConditionalOnClass</code>：判断环境中是否有对应字节码文件，才注册bean到IOC容器。</li><li><code>@ConditionalOnMissingBean</code>：判断环境中没有对应的 bean（类型 或 名称） ，才注册bean到IOC</li><li><code>@ConditionalOnProperty</code>：判断配置文件中有对应属性和值，才注册bean到IOC容器。</li></ul></li></ul></li><li><p>自动配置-案例</p></li></ul><p>略略略略略。详见<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1m84y1w7Tb?p=192">https://www.bilibili.com/video/BV1m84y1w7Tb?p=192</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://threewood1.top">三木</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://threewood1.top/post/afa3c662.html">https://threewood1.top/post/afa3c662.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://threewood1.top" target="_blank">Threewood</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaWeb/">JavaWeb</a><a class="post-meta__tags" href="/tags/Maven/">Maven</a><a class="post-meta__tags" href="/tags/SpringBoot/">SpringBoot</a><a class="post-meta__tags" href="/tags/Mybatis/">Mybatis</a></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/p2/wallhaven-p2m2ke.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media=&quot;all&quot;"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/8b222f25.html" title="VS Code 安装教程"><img class="cover" src="https://w.wallhaven.cc/full/yx/wallhaven-yx2y7g.jpg" onerror="onerror=null,src=&quot;/img/404.jpg&quot;" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">VS Code 安装教程</div></div></a></div><div class="next-post pull-right"><a href="/post/3ad31586.html" title="SpringBoot项目——手动构建"><img class="cover" src="https://w.wallhaven.cc/full/57/wallhaven-575dy7.jpg" onerror="onerror=null,src=&quot;/img/404.jpg&quot;" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringBoot项目——手动构建</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/3ad31586.html" title="SpringBoot项目——手动构建"><img class="cover" src="https://w.wallhaven.cc/full/57/wallhaven-575dy7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-10</div><div class="title">SpringBoot项目——手动构建</div></div></a></div><div><a href="/post/6af6e090.html" title="JavaWeb学习 | 前端部分"><img class="cover" src="https://w.wallhaven.cc/full/p2/wallhaven-p2m2ke.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-24</div><div class="title">JavaWeb学习 | 前端部分</div></div></a></div><div><a href="/post/b4c3744e.html" title="微服务拆分作业"><img class="cover" src="https://w.wallhaven.cc/full/x1/wallhaven-x166j3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-09</div><div class="title">微服务拆分作业</div></div></a></div><div><a href="/post/e13c0f67.html" title="微服务学习1"><img class="cover" src="https://w.wallhaven.cc/full/x1/wallhaven-x166j3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-09</div><div class="title">微服务学习1</div></div></a></div><div><a href="/post/78355edd.html" title="微服务学习2"><img class="cover" src="https://w.wallhaven.cc/full/x1/wallhaven-x166j3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-09</div><div class="title">微服务学习2</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/myPic.png" onerror="this.onerror=null,this.src=&quot;/img/friend_404.gif&quot;" alt="avatar"></div><div class="author-info__name">三木</div><div class="author-info__description"><center>目前计算机研究生在读，一次偶然的机会建立了这个博客，希望能在这里记录自己的学习和生活。<br>生命不息，学习不止，大胆地向前冲吧！ (ง •̀_•́)ง<center></center></center></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/threewood1"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/336738455" target="_blank" title="Bilibili"><i class="iconfont icon-bilibilia" style="color:#000"></i></a><a class="social-icon" href="/img/qq.png" target="_blank" title="QQ"><i class="iconfont icon-qq" style="color:#000"></i></a><a class="social-icon" href="/img/wechat.png" target="_blank" title="WeChat"><i class="iconfont icon-weixin" style="color:#000"></i></a><a class="social-icon" href="mailto:959335709@qq.com" target="_blank" title="有什么建议就给我发邮件吧"><i class="iconfont icon-envelope" style="color:#000"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><center>Welcome to my Blog.<br>由于博主囊中羞涩，租不起国内的服务器，因此访问速度可能有点慢，有条件的朋友可以使用科学上网。<br>备用地址：threewood.top<center></center></center></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven"><span class="toc-number">1.</span> <span class="toc-text">Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDE%E9%9B%86%E6%88%90Maven"><span class="toc-number">1.2.</span> <span class="toc-text">IDE集成Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEMaven%E7%8E%AF%E5%A2%83"><span class="toc-number">1.2.1.</span> <span class="toc-text">配置Maven环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.2.</span> <span class="toc-text">创建Maven项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5Maven%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.3.</span> <span class="toc-text">导入Maven项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-number">1.3.</span> <span class="toc-text">依赖管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.</span> <span class="toc-text">依赖配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92"><span class="toc-number">1.3.2.</span> <span class="toc-text">依赖传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E8%8C%83%E5%9B%B4"><span class="toc-number">1.3.3.</span> <span class="toc-text">依赖范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.3.4.</span> <span class="toc-text">生命周期</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven%E9%AB%98%E7%BA%A7"><span class="toc-number">2.</span> <span class="toc-text">Maven高级</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91"><span class="toc-number">2.1.</span> <span class="toc-text">分模块设计与开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E4%B8%8E%E8%81%9A%E5%90%88"><span class="toc-number">2.2.</span> <span class="toc-text">继承与聚合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">2.2.1.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">继承关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E9%94%81%E5%AE%9A"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">版本锁定</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88"><span class="toc-number">2.2.2.</span> <span class="toc-text">聚合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E4%B8%8E%E8%81%9A%E5%90%88-1"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">继承与聚合</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%81%E6%9C%8D"><span class="toc-number">2.3.</span> <span class="toc-text">私服</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot-Web-%E5%9F%BA%E7%A1%80%E7%AF%87"><span class="toc-number">3.</span> <span class="toc-text">SpringBoot Web 基础篇</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBootWeb%E5%85%A5%E9%97%A8"><span class="toc-number">3.1.</span> <span class="toc-text">SpringBootWeb入门</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.2.</span> <span class="toc-text">HTTP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E6%9C%8D%E5%8A%A1%E5%99%A8-Tomcat"><span class="toc-number">3.3.</span> <span class="toc-text">Web服务器-Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat%E7%AE%80%E4%BB%8B"><span class="toc-number">3.3.1.</span> <span class="toc-text">Tomcat简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.3.2.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F%E8%A7%A3%E6%9E%90"><span class="toc-number">3.3.3.</span> <span class="toc-text">入门程序解析</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94"><span class="toc-number">4.</span> <span class="toc-text">请求响应</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82"><span class="toc-number">4.1.</span> <span class="toc-text">请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Postman"><span class="toc-number">4.1.1.</span> <span class="toc-text">Postman</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.2.</span> <span class="toc-text">简单参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.3.</span> <span class="toc-text">实体参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.4.</span> <span class="toc-text">数组参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.5.</span> <span class="toc-text">集合参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.6.</span> <span class="toc-text">日期参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.7.</span> <span class="toc-text">JSON参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0"><span class="toc-number">4.1.8.</span> <span class="toc-text">路径参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94"><span class="toc-number">4.2.</span> <span class="toc-text">响应</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6"><span class="toc-number">4.3.</span> <span class="toc-text">分层解耦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">4.3.1.</span> <span class="toc-text">三层架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6-1"><span class="toc-number">4.3.2.</span> <span class="toc-text">分层解耦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOC-DI%E5%85%A5%E9%97%A8"><span class="toc-number">4.3.3.</span> <span class="toc-text">IOC &amp; DI入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOC%E8%AF%A6%E8%A7%A3"><span class="toc-number">4.3.4.</span> <span class="toc-text">IOC详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DI%E8%AF%A6%E8%A7%A3"><span class="toc-number">4.3.5.</span> <span class="toc-text">DI详解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis"><span class="toc-number">5.</span> <span class="toc-text">Mybatis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Mybatis%E5%85%A5%E9%97%A8"><span class="toc-number">5.1.</span> <span class="toc-text">Mybatis入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">5.1.1.</span> <span class="toc-text">快速入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC%E4%BB%8B%E7%BB%8D"><span class="toc-number">5.1.2.</span> <span class="toc-text">JDBC介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">5.1.3.</span> <span class="toc-text">数据库连接池</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lombok"><span class="toc-number">5.1.4.</span> <span class="toc-text">lombok</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mybatis%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-number">5.2.</span> <span class="toc-text">Mybatis基础操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">5.3.</span> <span class="toc-text">XML映射文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mybatis%E5%8A%A8%E6%80%81SQL"><span class="toc-number">5.4.</span> <span class="toc-text">Mybatis动态SQL</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot-Web%E5%BC%80%E5%8F%91%E7%AF%87"><span class="toc-number">6.</span> <span class="toc-text">SpringBoot Web开发篇</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBootWeb%E6%A1%88%E4%BE%8B"><span class="toc-number">6.1.</span> <span class="toc-text">SpringBootWeb案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBootWeb%E7%99%BB%E5%BD%95%E6%A0%A1%E9%AA%8C"><span class="toc-number">6.2.</span> <span class="toc-text">SpringBootWeb登录校验</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF"><span class="toc-number">6.2.1.</span> <span class="toc-text">会话技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JWT%E4%BB%A4%E7%89%8C"><span class="toc-number">6.2.2.</span> <span class="toc-text">JWT令牌</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8Filter"><span class="toc-number">6.2.3.</span> <span class="toc-text">过滤器Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8Interceptor"><span class="toc-number">6.2.4.</span> <span class="toc-text">拦截器Interceptor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">6.3.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">6.3.1.</span> <span class="toc-text">全局异常处理器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">6.4.</span> <span class="toc-text">Spring事务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%9B%9E%E9%A1%BE"><span class="toc-number">6.4.1.</span> <span class="toc-text">事务回顾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#spring%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">6.4.2.</span> <span class="toc-text">spring事务管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7-%E5%9B%9E%E6%BB%9A"><span class="toc-number">6.4.3.</span> <span class="toc-text">事务属性-回滚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7-%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA"><span class="toc-number">6.4.4.</span> <span class="toc-text">事务属性-传播行为</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AOP"><span class="toc-number">6.5.</span> <span class="toc-text">AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AOP%E5%9F%BA%E7%A1%80"><span class="toc-number">6.5.1.</span> <span class="toc-text">AOP基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AOP%E6%A6%82%E8%BF%B0"><span class="toc-number">6.5.1.1.</span> <span class="toc-text">AOP概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AOP%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">6.5.1.2.</span> <span class="toc-text">AOP快速入门</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AOP%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">6.5.1.3.</span> <span class="toc-text">AOP核心概念</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOP%E8%BF%9B%E9%98%B6"><span class="toc-number">6.5.2.</span> <span class="toc-text">AOP进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.5.2.1.</span> <span class="toc-text">通知类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E9%A1%BA%E5%BA%8F"><span class="toc-number">6.5.2.2.</span> <span class="toc-text">通知顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">6.5.2.3.</span> <span class="toc-text">切入点表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E7%82%B9"><span class="toc-number">6.5.2.4.</span> <span class="toc-text">连接点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOP%E6%A1%88%E4%BE%8B"><span class="toc-number">6.5.3.</span> <span class="toc-text">AOP案例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot-Web%E8%BF%9B%E9%98%B6%E7%AF%87"><span class="toc-number">7.</span> <span class="toc-text">SpringBoot Web进阶篇</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">7.1.</span> <span class="toc-text">配置优先级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean%E7%AE%A1%E7%90%86"><span class="toc-number">7.2.</span> <span class="toc-text">Bean管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96bean"><span class="toc-number">7.2.1.</span> <span class="toc-text">获取bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">7.2.2.</span> <span class="toc-text">bean作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9bean"><span class="toc-number">7.2.3.</span> <span class="toc-text">第三方bean</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E5%8E%9F%E7%90%86"><span class="toc-number">7.3.</span> <span class="toc-text">SpringBoot原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%B7%E6%AD%A5%E4%BE%9D%E8%B5%96"><span class="toc-number">7.3.1.</span> <span class="toc-text">起步依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">7.3.2.</span> <span class="toc-text">自动配置</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/51af033.html" title="Springboot项目登录拦截的三种方式"><img src="https://w.wallhaven.cc/full/2y/wallhaven-2y39jy.png" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="Springboot项目登录拦截的三种方式"></a><div class="content"><a class="title" href="/post/51af033.html" title="Springboot项目登录拦截的三种方式">Springboot项目登录拦截的三种方式</a><time datetime="2024-09-16T12:01:00.000Z" title="发表于 2024-09-16 20:01:00">2024-09-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/dcc6e30d.html" title="Redis实现分布式锁的方法和常见问题"><img src="https://w.wallhaven.cc/full/2y/wallhaven-2y39jy.png" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="Redis实现分布式锁的方法和常见问题"></a><div class="content"><a class="title" href="/post/dcc6e30d.html" title="Redis实现分布式锁的方法和常见问题">Redis实现分布式锁的方法和常见问题</a><time datetime="2024-09-13T02:07:00.000Z" title="发表于 2024-09-13 10:07:00">2024-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/729cb619.html" title="Redis常见面试问题"><img src="https://w.wallhaven.cc/full/2y/wallhaven-2y39jy.png" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="Redis常见面试问题"></a><div class="content"><a class="title" href="/post/729cb619.html" title="Redis常见面试问题">Redis常见面试问题</a><time datetime="2024-08-22T07:38:17.000Z" title="发表于 2024-08-22 15:38:17">2024-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/f4c4d599.html" title="面试八股"><img src="https://w.wallhaven.cc/full/2y/wallhaven-2y39jy.png" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="面试八股"></a><div class="content"><a class="title" href="/post/f4c4d599.html" title="面试八股">面试八股</a><time datetime="2024-07-09T05:18:17.000Z" title="发表于 2024-07-09 13:18:17">2024-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/c257a468.html" title="JVM常见面试问题"><img src="https://w.wallhaven.cc/full/2y/wallhaven-2y39jy.png" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="JVM常见面试问题"></a><div class="content"><a class="title" href="/post/c257a468.html" title="JVM常见面试问题">JVM常见面试问题</a><time datetime="2024-06-17T06:18:17.000Z" title="发表于 2024-06-17 14:18:17">2024-06-17</time></div></div></div></div></div></div></main><footer id="footer" style="background:0 0"><div id="footer-wrap"><div class="copyright">©2020 - 2024 By 三木</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://threewood1.github.io">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.threewood1.top/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.threewood1.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.textContent = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="/js/sun_moon.js" async=""></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="docsearch-wrap"><div id="docsearch" style="display:none"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css/dist/style.min.css"><script src="https://cdn.jsdelivr.net/npm/@docsearch/js/dist/umd/index.min.js"></script><script>(() => {
  docsearch(Object.assign({
    appId: 'NSRJN7YXG6',
    apiKey: '6a47300c2d5f7cd71bfe8c828ca4ec2f',
    indexName: 'threewood1',
    container: '#docsearch',
  }, null))


  const searchClickFn = () => {
    document.querySelector('#search-button > .search').addEventListener('click', () => {
      document.querySelector('.DocSearch-Button').click()
    })
  }

  searchClickFn()
  window.addEventListener('pjax:complete', searchClickFn)
})()</script></div></div><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>